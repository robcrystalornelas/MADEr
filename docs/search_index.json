[["index.html", "Meta-analysis of Ecological Data in R Preface Motivation for this book Intro to the data Acknowledgements", " Meta-analysis of Ecological Data in R Rob Crystal-Ornelas, PhD 2020-11-04 Preface Motivation for this book We created this book as a guide to conducting meta-analysis using ecological data in R. Ecologists are increasingly turning to evidence synthesis (i.e., systematic review and meta-analysis) as a way of describing and summarizing the published evidence base within sub-disciplines. There are helpful books that provide the theory behind meta-research in ecology (Koricheva, Gurevitch, and Mengersen 2013). There are also more technical guides that provide the R code for conducting meta-analyses, but these are typically built around datasets and methodology in medical (Schwarzer, Carpenter, and Rücker 2015) or social sciences (Harrer et al. 2019). We are excited to provide a guide for those conducting a meta-analysis in R using ecological data. We present methods that we have used in our own research, and of course indicate where we have built upon the work of other meta-researchers regardless of their primary field of investigation. Intro to the data The data we use in this book come from a meta-analysis by one of the co-authors (RCO) and his PhD advisor Dr. Julie Lockwood (Crystal-Ornelas and Lockwood 2020a). The data are the result of a systematic search for articles that investigate how invasive species native species richness. Language is particularly important to the field of invasion ecology (Mattingly et al. 2020), and so we start by describing what we mean when we say invasive species. The dataset contains information from ??Articles on ?? species of invasive trees. These trees havebeen intentionally or unintentionally moved to a new location from their native location. The invasive trees have established local populations, spread from this location and are now affecting their surrounding ecosystems in the new sites. For more information about invasive species, we provide couple of references the authors find helpful. Invasion Ecology (Lockwood, Hoopes, and Marchetti 2013) Encyclopedia of Bioloigcal Invasions (Simberloff and Rejmánek 2011) The data Here, we import the data from google drive, and we can see from the output the classes of data (i.e., character or double) that R thinks our .csv file contains. require(tidyverse) ## Loading required package: tidyverse ## ── Attaching packages ───────────────────────────────────────── tidyverse 1.3.0 ── ## ✓ ggplot2 3.2.1 ✓ purrr 0.3.4 ## ✓ tibble 3.0.3 ✓ dplyr 1.0.2 ## ✓ tidyr 1.1.2 ✓ stringr 1.4.0 ## ✓ readr 1.3.1 ✓ forcats 0.4.0 ## ── Conflicts ──────────────────────────────────────────── tidyverse_conflicts() ── ## x dplyr::filter() masks stats::filter() ## x dplyr::lag() masks stats::lag() require(cowplot) ## Loading required package: cowplot ## ## ******************************************************** ## Note: As of version 1.0.0, cowplot does not change the ## default ggplot2 theme anymore. To recover the previous ## behavior, execute: ## theme_set(theme_cowplot()) ## ******************************************************** url_for_data &lt;- &quot;https://drive.google.com/uc?id=1eL9f8pirn8TBhyuOs39Lfcpd3TYruvDG&quot; meta_analysis_data &lt;- read_csv(url_for_data) ## Parsed with column specification: ## cols( ## unique_article_identifier = col_character(), ## lastname = col_character(), ## publication_year = col_double(), ## invasive_species_common_name = col_character(), ## invasive_species_latin_name = col_character(), ## invasive_species_taxonomic_group = col_character(), ## invasive_species_trophic_position = col_character(), ## island_or_continent = col_character(), ## study_design = col_character(), ## SCImago_journal_rank = col_double(), ## time_since_invasion = col_double(), ## country = col_character(), ## mean_control = col_double(), ## SD_control = col_double(), ## sample_size_control = col_double(), ## mean_invaded = col_double(), ## SD_invaded = col_double(), ## sample_size_invaded = col_double() ## ) Next, let’s inspect the data a bit, before we dive into the meta-analysis. As you can see from the code above, and the CSV file if you open it up, there are 17 different variables, or columns, in our newly imported dataframe. Some of the varaibles are the categorical pieces of data that we extracted from the articles that describe the article itself or the study’s focial invasive species. For example, we can see the most frequently studied invasive tree species in our database. The data that we’ll be analyzing in this book include publications on the impacts of invasive trees from 1999-2016. Here’s a visualization of how the published evidence base on invasive tree impacts has grown over the past two decades. There are many more ways to display and summarize the data included in this CSV file. Meta-analysis statistics will most often use the numerical variables that are the key ingredients for meta-analysis (mean, standard deviation, and sample size). Our next chapters will focus on how to use these values to create meta-analytic models. Acknowledgements This book was created using the bookdown (Xie 2019). Thanks to the Lockwood Lab for motivating RCO to pursue meta-analysis in ecology and also for ping pong games. LCO, NKJ. References "],["starting-a-meta-analysis.html", "Chapter 1 Starting a meta-analysis 1.1 Systematic search 1.2 Article screening 1.3 Data extraction", " Chapter 1 Starting a meta-analysis 1.1 Systematic search Every meta-analysis begins with a systematic process by which the person conducting the meta-analysis attempts to locate all articles related to the topic they are investigating. Below, I outline the the general steps of the systematic search process in bold, and then provide how one might approach a systematic search to locate the example data we use in this book. One of my favorite figures that shows all of the steps in meta-analysis and systematic review can be found in the first chapter of (Koricheva, Gurevitch, and Mengersen 2013). They stress that much of the effort that goes into meta-analysis happens in the planning and article locating phase. It is essential to outline as much of the meta-analytic process as you can before conducting the analysis–this helps to avoid bias in the articles, analyses, and conclusions we make during the investigation. Figure 1.1: A helpful reminder 1. Pick a topic you want to investigate Your first step as a meta-analyst is the pick the topic you want to investigate. What is the question you want to ask in your research? In my experience, there are so many un-asked questions when we think of them through a meta-analytic framework. Of course, when conducting a meta-analysis we need enough published or un-published articles to synthesize data in order to conduct the analysis. But for now, let your imagination run wild! Following the steps we outline below will help you to determine whether there is enough research available on the topic to do a meta-analysis. To get ideas for meta-research projects you might start with these sources: Reading or re-reading some meta-research in your discipline and identifying what they see as avenues for new meta-research. One of my favorite ways of generating new research questions is by reading meta-analyses in the social or medical sciences to see what questions they ask, and then considering applying them to ecological data. Check out some data repositories like figshare or dryad to see what data have researchers kindly made publicly available. The Ecology preprint collection on bioRxiv has a lot of cutting edge research that may spark some ideas for research project. Applying this to our example data During my PhD, I became fascinated with invasive species and their impacts on the natural environment. Meta-research in ecology, and specifically invasion ecology has grown over the past decade or so, yet I noticed that few meta-analyses provided a comprehensive evaluation of the magnitude of impact that many different species from a variety of invasive taxa can have on biodiversity. Impacts on diversity are frequently studied in invasion ecology (Crystal-Ornelas and Lockwood 2020b), so I had a suspicion that I would find plenty of data to conduct a meta-analysis on this topic. Because this book will use a slice of the larger database RCO compiled, we provide a slightly narrower research question than RCO outlined in his article that this work is based on. For the purposes of this book, we ask: How do invasive trees impact the species richness (aka alpha diversity) of native species. 2. pick a search engine and search terms The next step is to decide on the search engines and databases you will use (Google Scholar, the CABI database, Web of Science) to locate articles relevant to your research topic. Database Pros Cons Google Scholar Free to search and access to large number of scientific articles Overwhelming number of search hits Web of Science Ability to filter articles by subject matter Institutional access required CAB Direct Good article filtering and contains many relevant articles for ecology Institutional access required and search can large number of hits Applying this to our example data For this meta-analysis, we used the Web of Science database to locate articles on invasive species impacts. Due to time constraints, we couldn’t include all three of the databases above. The number of articles Web of Science alone returned took about a couple of years to sift through. That being said, we did our best to capture as many invasion impact articles as possible by developing broad search terms. If you are going to use Google Scholar or CAB Direct, you may want to implement methods used by (Crystal-Ornelas et al., n.d.; Wang Wei, Lee, and Bing Wen 2016) which select only the first 700 or 1000 articles returned from Google Scholar. 3. Search terms After deciding on the search engine(s) you will use, you need to develop the search terms you’ll use to locate articles within each database. You should aim to design a search that is completely repeatable by anyone who reads your manuscript. This means not only specifying the terms you search, but also any ways that you filter the search results (e.g., date, language, topic). When deciding on search terms you should attempt to capture every or, nearly every, published/unpublished article that is relevant to your research question. By making a search comprehensive, we avoid introducing bias into our meta-analysis (Gough, Oliver, and Thomas 2012). Sometimes I like to think of this part of the process in terms of balancing sensitivity vs. specificity. We can leave the specificity (i.e., identifying the exactly right article we want in our meta-analysis until later). In the systematic search phase of our meta-analysis, we want to cast a wide net and capture every article, and search through every database we deem relevant as long as time permits. In many of the databases you will use, Boolean searches will be the most effective way to locate relevant articles. Harvard’s library put together a quick guide to Boolean searches here. The most common Boolean “operators” are the words AND as well as OR. So, here’s how to use them. If we wanted to locate articles about a smiling axolotl and we wanted to make sure that the articles contained both the words “smiling” and “axolotl” we would link up those two words in our search with the word AND. axolotl AND smiling But then we realize that there are lots of synonyms for smiling, and we don’t want to miss those in our search. This is where OR comes in. In this case, the articles would have to contain the word axolotl and they also must contain the word smiling OR grinning. That Boolean phrase looks like this axolotl AND smiling OR grinning Figure 1.2: Requisite photo of smiling axolotl Applying this to our example data As a reminder, we used Web of Science to search for articles about invasive species impacts. We use the topic search function that Web of Science provides. When you search topics you are actually searching for your terms in all article titles, abstracts and keywords. For our systematic search, we used the following search terms. TOPIC = invasive AND impact*; introduced species AND impact*; non-native AND impact*; exotic AND impact*; alien AND impact*; naturalized AND impact*; non-indigenous AND impact* Rather than using the OR operator, we divided up our searches, but we easily could have linked up the synonyms for invasive with the OR operator. Note that we also included asterisks at the end of the work impact. The asterisk at the end of any word let’s the search know you want the word as you’ve type it, and any other words that have different ending letters. So our search above captured articles that used the word impact as well as impacts, impacted, and impacting. This systematic search of Web of Science yielded over 23,000 potential articles! 1.2 Article screening After you identify the set of candidate articles for your meta-analysis it’s time to sort through all of the articles and determine which will included in your meta-analysis. Your first step should be to delineate your inclusion criteria. These are a set of criteria that each of the articles must meet prior to inclusion into your meta-analysis. In order to help shape the inclusion criteria, we recommend adhering to the Population, Treatment, Control, Outcome (PTRO, or sometimes called the PICO) framework (Huang, Lin, and Demner-Fushman 2006). First, make a rule about the population that an article must focus on for you to include it in the meta-analysis. For example, will you include only studies that investigate invasive crayfish? Can these studies come from populations all over the world or only in the US? Next, identify the treatment you will focus on in your meta-analysis. This criteria is called treatment because the framework was developed for medical sciences. But we can thin of the treatment group as the experimental sites. For example, the treatment sites may receive extra nutrient input or an increased amount of deer herbivory. Then you should develop a rule about the design of the control sites. For example, they may lack a certain nutrient input or experience lower levels of deer herbivory. Lastly, a rule about the focal outcome will help define the quantitative metrics you will eventually extract from each article. Following the examples from above, we may want to include only articles that measure dissolved Soil Organic Carbon or abundance of a certain flowering plant species. After deciding on your inclusion criteria, it’s time to sort article and then determine whether you’ll include the articles or exclude them based on you PTRO criteria (see above). We recommend using a Preferred reporting Items for Systematic review and Meta-Analysis flowchart (PRISMA). This flowchart allows for easy visualization of the major steps involved in sorting through articles. We recommend sorting through articles in 4 distinct steps. First, identify and remove any duplicate articles that you picked up during your systematic search. Duplicate articles are common if you searched in multiple databases. If you use a reference manager like Zotero finding duplicates will be a breeze and really all steps of sorting will be more organized. Then move through articles always checking for consistency with your pre-defined inclusion criteria. First first by title, then abstract, then read the full text of the article and make a decision on whether to include or exclude the article. We recommend keeping track of the articles you exclude at each step using a reference manager like zotero (mentioned above and free) or endnote (great interface, but expensive). We also recommend using a Preferred Reporting Items for Systematic Review and Meta-Analysis (PRISMA) diagram for easily conveying your screening process to readers (Moher et al. 2009). Below is an example of a PRISMA flowchart that provides boxes in green that show the number of articles retained in each screening step and red boxes that show the number of articles excluded in each step. If you want to make your own PRISMA flowchart, we recommend either powerpoint or the R package DiagrammeR (Iannone 2018). ## Loading required package: DiagrammeR Figure 1.3: Example of a PRISMA flowchart with 3 screening steps Applying this to our example data In order to create the inclusion criteria for our example meta-analysis, we used on the PTCO frameworked described above. In the table below, I provide a shorthand name for each criteria in one column and then a more detailed rationale for the criteria in the next column. As in all steps of the meta-analysis, the goal is to provide enogh detail so that someone could repeat all the steps of the analysis if they want to. Criteria Rationale Oringal research (Population) Include only primary published research Invaded sites (Treatment) Articles must include sites with invasive species. If studies measure impacts of multiple invasive species, we count each species separately in our database Sites without invasive species (Control) Experiments must have control sites without invasive species or with species at very low densities Measurements of species richness (Outcome) Articles must provide mean measurement of richness at invaded and control sites (\\(\\bar{X}\\)) as well as sample size (N) and measure of variation (s, \\(s^2\\), or SE) Should you decide to use the PRISMA flowchart to organize your article screening process, here’s an template of what the flowchart can include using example data from this book. At each screening step (green box) we indicate the nuber of articles screened. We also use red boxes to highlight the number of articles that we exclude at each screening step, and we also provide the most common reasons for exclusion. Figure 1.4: Example PRISMA flowchart for invasive tree database Note that you can modify any of the boxes to suite the needs of your screening protocol. We excluded 30 articles because they lacked any measurements of species richness. If your meta-analysis doesn’t focus on species richness then you will likely have a different box to represent the outcome you need to conduct your meta-analysis. 1.3 Data extraction Applying this to our example data References "],["choosing-an-effect-size.html", "Chapter 2 Choosing an effect size 2.1 Standardized Mean Difference (aka Hedges’ g) 2.2 Response Ratio (aka Ratio of Means)", " Chapter 2 Choosing an effect size The effect size is the back bone of meta-analysis as all other aspects of this book will branch out from initial effect size calculations that we make. When we talk about effect sizes we make the distinction between measurement effect sizes that are calculated based on means and standard deviations for a pair of treatment and control sites (there will be many of these in a meta-analysis) and a summary effect size (there will be one of these in the typical meta-analysis). The summary effect size is the stastical aggregation of many measurement effect sizes. There are many helpful texts and reviews that lay out the benefits and costs to using the many effect sizes that can be found in meta-analytic research. One of the most popular packages for ecological meta-analysis, metafor allows for calculation of at least 15 effect sizes just by changing a few letters of you R code. Please see these resources for more information on effect size options (Koricheva, Gurevitch, and Mengersen 2013, @schwarzer_meta-analysis_2015). Within the metafor package the escalc function handles calculating the measurement-level effect size calculations. Essentially the function takes in pairs data from both treatment (abbreviated by a “t”) and control sites (abbreviated with a “c”). The paired data typically represents sample means (\\(\\bar{x_t}\\) and \\(\\bar{x_c}\\)), standard deviations (\\(s_t\\) and \\(s_c\\)), and sample sizes (\\(n_t\\) and \\(n_c\\)). Using these paired data, escalc will output a single effect size and measurement of variance for each row (i.e., paired measurement in your database). Here’s how the paired data appear in our example database. Take a look at the table below and scroll to the right. You’ll find colums that contain all of the quantitative information that is necessary for calculating an effect size for each pair of measurements or rows in the database. The column mean_contol has the mean species richness at uninvaded sites, the next column, sample_size_control provides the number of control study sites, however the authors defined “study site” within their article. You will be able to locate \\(\\bar{x}\\), \\(s\\), and \\(n\\) for every invasive species included in the database. When we are missing some necessary metric, this is most often standard deviation, we can use methods to impute missing values, however, these will be covered in a later chapter. require(DT) #This package allows for scrollable tables in R Markdown ## Loading required package: DT datatable(meta_analysis_data, fillContainer = TRUE) Now, let’s see how we can use these date and the escalc function in the metafor package to calculate measurement-level effect sizes. 2.1 Standardized Mean Difference (aka Hedges’ g) The Standardized Mean Difference (SMD) was one of the first effect sizes used in published meta-analyses (Hedges and Olkin 1985) and it remains widely used in both ecological meta-research (Crystal-Ornelas et al., n.d.; Závorka, Buoro, and Cucherousset 2018; Doherty et al. 2020). There are many ways to calculate the SMD for a dataset, the one we will use here, and the default for the metafor package is called Hedge’s g. Hedges’ g is a useful effect size in ecological meta-analysis becuase it statistically corrects for variance that may be introduced when sample sizes are small (Hedges 1981). Another benefit of using Hedges’ g as an effect size is that by having a “standardized” effect we can synthesize data that were measured on a different scales. The term scales here depends on your research question and systems. For example, we would likely not want to directly pool the raw data on species richness from many different articles because the articles likely vary in their exact definition of how they quantified species richness (i.e., did authors measure richness of all native tree species or richness of native tree and herbacous plants?). The Hedges’ g effect size converts all of these richness measurements to a common unitless scale for each study, so that eventually pooling of the data together in a meta-analytic framework is more appropriate. The Hedges’ g calculations in metafor also take into account sample size for treatment and control groups as well as measures of variation for both groups. Below, we include the code necessary to calculate Hedges’ g for the invasive tree dataset included in this book. require(metafor) # Make sure the metafor package is loaded ## Loading required package: metafor ## Loading required package: Matrix ## ## Attaching package: &#39;Matrix&#39; ## The following objects are masked from &#39;package:tidyr&#39;: ## ## expand, pack, unpack ## Loading &#39;metafor&#39; package (version 2.1-0). For an overview ## and introduction to the package please type: help(metafor). SMD_effect_sizes &lt;- escalc( # This is the function in metafor that allows us to calculate an effect size for each row in a database &quot;SMD&quot;, # Specify the effect size we want to calculate. In this case SMD for Standardized mean difference m1i = mean_invaded, # mean richness at invaded sites n1i = sample_size_invaded, # invaded site sample size sd1i = SD_invaded, # invaded site SD m2i = mean_control, # mean richness at control sites n2i = sample_size_control, # control site sample size sd2i = SD_control, # control site SD data = meta_analysis_data # This is where the escalc function can find all the data for our meta-analysis ) Now, take a look at the last two columns in the new dataframe we’ve created. One of these yi represents the new effect size calculated for each row in the database. The other column, vi is the variance for each effect size. datatable(SMD_effect_sizes, fillContainer = TRUE) See the yi value for the first row. This is a study (Ellis et al. 2000) that investigated how arthropod richness changes in different types of vegetation along rivers in New Mexico. They included sites with stands of introduced saltcedar (treatment) and sites without saltcedar (control) and counted up the number of species of arthropods at both sites. The yi in this first row is the calculated value for Hedges’ g for this study. The value of -0.62 indicates that invasive sites had lower species richness than control sites. We know this because the data assigned to “position #1” in our effect size calculations (see R code above) is all of data that has to do with invaded sites. If we switch up the code and assign control sites and associated data to “position #1” in our effect size code above, we would expect a +0.62 effect size. The value for vi shows the variance calculated for this effect size estimate. The next chapters in this book all rely on the values for yi and vi that we just calculated to generate an overall, single, effect size to summarize findings from the many studies included in this database. Figure 2.1: Flowering tamarisk. Photo credit: Teun Spaans, CC BY-SA 3.0 2.2 Response Ratio (aka Ratio of Means) The next effect size we’ll discuss is called the Response Ratio (RR). It’s another frequently used effect size in both ecological and medical meta-analysis [Koricheva, Gurevitch, and Mengersen (2013); ]. This effect size is most often used when the effects being compared both have positive signs or both have negative signs. For example, in our invasion impact dataset, but values from the invaded and control sites will have positive signs since richness values (the average number of species at a site or across several sites) can’t be negative. Using our example data, an effect size is calculated for each paired richness measurements, and it is a ratio of the average richness at invaded sites in one article \\(\\bar{x_i}\\) over the average richness of sites without the focal invasive species \\(\\bar{x_c}\\). The mathematical representation of the response ratio is relatively straightforward: \\(RR = \\frac{\\bar{x_i}}{\\bar{x_c}}\\) Because in statistics, fractions can present challenges for creating models based on a normal distribution, meta-analysts typically convert the RR fraction to the natual log of the RR prior to making any statistical calculations. \\(\\ln(RR) = ln(\\frac{\\bar{x_i}}{\\bar{x_c}})\\) As you will see in later calculations, a postive value for \\(\\ln(RR)\\) means that the numerator of the response ratio is larger than the denominator, and a negiative value would indicate that the denominator is larger than the numerator. In the context of our example data, a positive \\(\\ln(RR)\\) suggest that invasive species increase richness where they are found, and negative \\(\\ln(RR)\\) suggests that invasive species decrease richness. One benefit of using the Response Ratio is that \\(\\ln(RR)\\) can quickly be backtransformed to the \\(RR\\) to provide % increases or decreases in richness with invasive species. You can find many examples of ecological meta-analyses that use the response ratio as an effect size from a wide variety of disciplines. For example there are meta-analyses using the Response Ratio that investigate how cover crops change biomass on farms (Thapa et al. 2018), how bee density influences crop production (Rollin and Garibaldi 2019), bat activity in wet vs. dry Australian landscapes (Blakey et al. 2018), and how changes in natural habitat affects reptile abundance (Doherty et al. 2020). RR_effect_sizes &lt;- escalc( # Function for calculating effect sizes. &quot;ROM&quot;, # Specify the effect size we want to calculate. In this case ROM for the Ratio of Means or Response Ratio m1i = mean_invaded, # mean richness at invaded sites n1i = sample_size_invaded, # invaded site sample size sd1i = SD_invaded, # invaded site SD m2i = mean_control, # mean richness at control sites n2i = sample_size_control, # control site sample size sd2i = SD_control, # control site SD data = meta_analysis_data # This is where the escalc function can find all the data for our meta-analysis ) One limitation to using the \\(RR\\) is that the response ratio cannot be calculated if the either mean effect of the control or treatment group is zero. However, some researchers suggest substituting the 0 value for a very small non-zero value (e.g., 0.1) so that the response ratio can still be used for the meta-analysis (Thapa, Mirsky, and Tully 2018). However, another recent meta-analysis opted to use Hedges’ g as an effect size precisely becasue some of their data had a mean effect size of 0 (Doherty et al. 2020). Going forward, we illustrate meta-analytic models using the Response Ratio as an effect size for two main reason. First, we did not have richness values of zero in our dataset and so our data could seamlessly work with the response ratio. Second, we wanted to back-transform our \\(\\ln(RR)\\) values to provide land managers with an average percent increase or decrease in richness with the presence of invasive speices. References "],["literature.html", "Chapter 3 Literature", " Chapter 3 Literature Here is a review of existing methods. "],["fixed-effects-meta-analysis.html", "Chapter 4 Fixed effects meta-analysis 4.1 A brief introduction to fixed effects models in meta-analysis 4.2 Fixed effects model example 4.3 Forest plot for fixed effects model", " Chapter 4 Fixed effects meta-analysis 4.1 A brief introduction to fixed effects models in meta-analysis The first type of model that many meta-analysts learn about and use is called a fixed effects model. Fixed effects models have strict assumptions about the population that the samples, and thus effect sizes, in a dataset come from. Fixed effects models assume that the samples come from the the same larger population. So when we think about meta-analyses that aggregate data from multiple very differently designed studies, it’s easy to see how ecological meta-analyes may quickly violate the assumptions of a fixed effects model. When the studies in a meta-analysis have different experimental designs, occur in a variety of locations around the globe or have different focal species or taxon, these are all good indications that fixed effects model assumptions will not be met. We note that, fixed effects models are often used in medical meta-analyses due to the highly controlled experimental designs required in medical research. You might be able to envision a medical meta-analyst finding enough studies that test a new drug using very similarly designed Randomized Control Trials, and so the assumtions of a fixed effects model may not be violateas. Despite the limitations of fixed effects models, there are some researchers that identify enough studies from the same population for fixed effects modeling (Bai et al. 2013). The fixed effects models also provide a useful starting point for our journey through ecological meta-analysis because many of the other methods build off the inital fixed effects framework. 4.2 Fixed effects model example Having previously run the R code in earlier chapters, you should have the necesary data called meta_analysis_data in your R environment. Now, let’s make sure R libraries we need for the rest of this chapter are loaded library(metafor) The rma function let’s us specify the type of model we’ll use to aggregate the many individual effect sizes in our database into a single summary effect size. Remember from chapter 2, our dataframe now contains two colums with effect size data. One column has the effect size (either SMD or RR) for each row in our database comparing richness at invaded sites to richness at control sites. This is column yi. We also have column vi which contains the variance for each effect size in our database. Now, we use these two new columns in the rma function. fixed_effect_model_results &lt;- rma(yi, # this is the effect size from each row in database vi, # measure of variance from each row in database method = &quot;FE&quot;, # Specifies fixed effects model slab = paste(lastname, publication_year, sep = &quot;&quot;), # This line of code prepares study labes for the forest plot we&#39;ll create at the end of the chapter data = RR_effect_sizes) # Let R know the dataframe we&#39;ll use for our model calulcations ## Warning in rma(yi, vi, method = &quot;FE&quot;, slab = paste(lastname, publication_year, : ## Studies with NAs omitted from model fitting. Because we have not taken the steps to impute missing standard deviations you should see an error above that rows with missing data were removed from the analysis. Now, let’s take a look at the fixed effects model results. fixed_effect_model_results ## ## Fixed-Effects Model (k = 84) ## ## Test for Heterogeneity: ## Q(df = 83) = 1034.0862, p-val &lt; .0001 ## ## Model Results: ## ## estimate se zval pval ci.lb ci.ub ## -0.1021 0.0068 -14.9267 &lt;.0001 -0.1155 -0.0887 *** ## ## --- ## Signif. codes: 0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1 From this model output we can see that after removing NAs from the dataset, we were left with 84 rows of data containing 84 effect sizes (yi) and 84 associated measures of variance (vi). Looking at the model results section we see a summary effect size of -0.1021. Remeber, the negative effect size indicates a species richness decrese at sites with invasive species. The p-value of &lt;0.0001 suggest that the summary effect size we found in this meta-analysis are significantly different from a zero effect. This aligns with the two values provided for lower and upper 95% confidence interval values that do not overlap zero (CI = -0.1155, -0.0887). Confidence intervals that do not overlap zero are evidence for statistically significant summary effects. Confidence invervals around the summary effect size are shown in the key primary data visualization tool used in meta-analysis, the forest plot. 4.3 Forest plot for fixed effects model The forest plot is an essential visualization for every meta-analysis. However, the way that scientists choose to present their forest plot varies person-to-person. In this book, we create all forest plots using the forest funtion that is installed as part of the metafor package. We have found it to be the most flexible way to build the wide variety of plots that we use throught this book. However we recommend you see what you like best for your data visualizations. For example, the package metaviz (Kossmier, Tran, and Voracek 2018) creates wonderful forest plots using model output from metafor and just a few lines of code. Here is the code for our first forest plot using the metafor package forest( RR_effect_sizes$yi, # These are effect sizes from each row in database RR_effect_sizes$vi, # These are variances from each row in database annotate = FALSE, # Setting this to false prevents R from including CIs for each of the 84 effect sizes in the forest plot. Setting it to TRUE is generally a good practice, but would make this plot cluttered. slab = fixed_effect_model_results$slab, # Along the left hand side, we want eac individual effect size labeled with author names and publication years. We speified this when we calculated the summary effect size above xlab = &quot;ln(Response Ratio)&quot;, # Label for x-axis cex = .8, # Text side for study labels pch = 15, # shape of bars in forest plot cex.lab = 1, # Size of x-axis label ) # This is code adds in the summary effect size for your meta-analysis addpoly( fixed_effect_model_results, # specify the model where your summary effect comes from. col = &quot;orange&quot;, # Pich a color that makes the summary effect stand out from the other effect sizes. cex = 1, # size for the text associates with summary effect annotate = TRUE, # Ususally, we set this to true. It makes sure effect size and CI for summary effect dize is printed on forest plot. mlab = &quot;Summary&quot; # Label for summary effect size ) Thought the figure is a little (OK very) busy, it contains so much useful information we can pick apart. Then, in later chapters, we can discuss how to make the complex forest plots a bit more concise. But for now let’s look at the forest plot in three sections: left column, middle column, and right column. In the left column, you see the last name of an article’s first author along with the year of the article’s publication. Some of these article identifiers have a .1 or .2 after the name and year. This is because, in the forest plot, each effect size extracted from an article is represented in the plot. So looking at the list of authors and years, you should notice that two effect sizes (combinations of richness values for invaded and uninvaded sites) were extracted from the same article by Frappier et al. 2013. This is likely because the article studied the richness impacts of more than one invasive species and we made a rule in our inclusion criteria that if more than one invasive species impact was studied in an article, we woudl treat these as separate rows in our data extraction spreadsheet. In the middle column, you will see many dots of varying size that each have a 95% confidence interval around the dots. Each dot and CI represents the calculated effect size (in our case Response Ratio) for a pair of richness measurements extracted from an article. The range of effect size magnitudes are listed along the x-axis of the forest plot. You see in this plot that effect sizes range from approximately -4.0 to +4.0. The confidence interval is based on the standard deviation and sample size extracted from each article. The size of each dot in the forest plot corresponds to the sample size associated with effect size calcuations. This means that studies based on large sample sizes (e.g., Flinn et al. 2014) has it’s effect size represented with a large black dot and studies with smaller sample sizes (e.g., Nascimbene et al. 2012) have effect sizes indicated with small black dots. In general, as sample sizes increase, you will see a shrinking of the confidence intervals around the effect size. Importantly, confidence intervals that overlap the zero line in a forest plot, indicated here with a dashed vertical line indicate a non-significant effect size. This concept of non-siginificant effect sizes overlapping zero applies to the article-level effect sizes represented in each row in the forest plot as well as the summary effect size displayed in the very last row of the plot. The last row of the forest plot shows the summary effect size that was calaculated by the fixed effects model we ran in this chapter. When the meta-analysis summarizes a large number of articles, the effect size typically has a narrow confidence interval that may be difficult to visualize in the plot. This is why we annotate the plot in the right column. In the right column of the forest plot, we have a list of each effect size and confidence interval calculated in chapter 2 of this book using the escalc fuction. The first number listed in the right columniis the effect size, and the two numbers in the brackets are lower and upper confidence interval values. Again, if the confidence interval does not include zero, this indicates that either the individual effect size for a single row, or the summary effect for the entire meta-analysis indicates a significant difference from zero. If displaying each unique effect size and CI adds too much clutter to your plot they can be easily removed by changing the code above from annotate = TRUE to annotate = FALSE in the forest plot code above. We suggest that you always display the effect size and CI for the summary effect size located at the bottom of your forest plot. This is done using a separate addpoly function in metafor. As part of the addpoly function you can specify exactly how the summary effect appears both in the figure (e.g., with a colorful box or diamond) and in text (e.g., bold, italics, red font, larger text). References "],["methods.html", "Chapter 5 Methods", " Chapter 5 Methods We describe our methods in this chapter. "],["applications.html", "Chapter 6 Applications 6.1 Example one 6.2 Example two", " Chapter 6 Applications Some significant applications are demonstrated in this chapter. 6.1 Example one 6.2 Example two "],["random-effects-meta-analysis.html", "Chapter 7 Random effects meta-analysis", " Chapter 7 Random effects meta-analysis "],["meta-regression.html", "Chapter 8 Meta-regression", " Chapter 8 Meta-regression "],["final-words.html", "Chapter 9 Final Words", " Chapter 9 Final Words We have finished a nice book. "],["publication-bias.html", "Chapter 10 Publication bias", " Chapter 10 Publication bias "],["references.html", "References", " References "],["cumulative-meta-analysis.html", "Chapter 11 Cumulative meta-analysis", " Chapter 11 Cumulative meta-analysis "],["decline-effect.html", "Chapter 12 Decline effect", " Chapter 12 Decline effect "],["imputing-missing-values.html", "Chapter 13 Imputing missing values", " Chapter 13 Imputing missing values "],["references-1.html", "References", " References "]]
